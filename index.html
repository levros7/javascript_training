<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Percentage Calculator</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
  background-color: #f0f4f8;
  color: #333;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  padding: 40px 16px;
}

.app {
  max-width: 480px;
  width: 100%;
}

h1 {
  font-size: 2rem;
  color: #2d3748;
  margin-bottom: 4px;
  text-align: center;
}

.subtitle {
  color: #718096;
  margin-bottom: 32px;
  text-align: center;
}

.card {
  background: #fff;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  margin-bottom: 20px;
}

.card h2 {
  font-size: 1.1rem;
  color: #2d3748;
  margin-bottom: 16px;
}

.input-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
  flex-wrap: wrap;
}

.input-row span {
  color: #4a5568;
  font-size: 1rem;
}

.input-row input {
  width: 80px;
  padding: 10px 12px;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  font-size: 1rem;
  outline: none;
  text-align: center;
  transition: border-color 0.2s;
}

.input-row input:focus {
  border-color: #2b6cb0;
}

.btn {
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem;
  padding: 10px 20px;
  transition: background-color 0.2s, transform 0.1s;
  color: #fff;
}

.btn:active {
  transform: scale(0.96);
}

.btn-calc {
  background-color: #2b6cb0;
}

.btn-calc:hover {
  background-color: #2c5282;
}

.result {
  margin-top: 12px;
  padding: 16px;
  background-color: #ebf8ff;
  border-radius: 8px;
  text-align: center;
  display: none;
}

.result .value {
  font-size: 2rem;
  font-weight: bold;
  color: #2b6cb0;
}

.result .description {
  font-size: 0.9rem;
  color: #718096;
  margin-top: 4px;
}

.month-section {
  margin-bottom: 12px;
}

.month-section h3 {
  font-size: 1rem;
  color: #4a5568;
  margin-bottom: 8px;
}

.month-entries {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 8px;
}

.month-entry {
  display: flex;
  gap: 8px;
  align-items: center;
}

.month-entry input {
  flex: 1;
  padding: 8px 12px;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  font-size: 1rem;
  outline: none;
  transition: border-color 0.2s;
}

.month-entry input:focus {
  border-color: #2b6cb0;
}

.btn-add-entry {
  background: none;
  border: 2px dashed #cbd5e0;
  border-radius: 8px;
  padding: 8px;
  width: 100%;
  cursor: pointer;
  color: #718096;
  font-size: 0.9rem;
}

.btn-add-entry:hover {
  border-color: #2b6cb0;
  color: #2b6cb0;
}

.month-sum {
  font-size: 0.95rem;
  color: #4a5568;
  text-align: right;
  margin-top: 4px;
  font-weight: bold;
}

.result-positive {
  color: #38a169;
}

.result-negative {
  color: #e53e3e;
}

.btn-clear {
  background-color: #e2e8f0;
  color: #4a5568;
  margin-top: 16px;
  width: 100%;
  padding: 12px;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.btn-clear:hover {
  background-color: #cbd5e0;
}
</style>
</head>
<body>
<div class="app">
  <h1>Percentage Calculator</h1>
  <p class="subtitle">4 ways to calculate percentages</p>

  <!-- Calculator 1: What is X% of Y? -->
  <div class="card">
    <h2>What is X% of Y?</h2>
    <div class="input-row">
      <span>What is</span>
      <input type="number" id="calc1Percent" placeholder="%">
      <span>% of</span>
      <input type="number" id="calc1Total" placeholder="number">
      <span>?</span>
      <button class="btn btn-calc" id="calc1Btn">Calculate</button>
    </div>
    <div class="result" id="result1">
      <div class="value" id="result1Value"></div>
      <div class="description" id="result1Desc"></div>
    </div>
  </div>

  <!-- Calculator 2: X is what % of Y? -->
  <div class="card">
    <h2>X is what % of Y?</h2>
    <div class="input-row">
      <input type="number" id="calc2Part" placeholder="number">
      <span>is what % of</span>
      <input type="number" id="calc2Total" placeholder="number">
      <span>?</span>
      <button class="btn btn-calc" id="calc2Btn">Calculate</button>
    </div>
    <div class="result" id="result2">
      <div class="value" id="result2Value"></div>
      <div class="description" id="result2Desc"></div>
    </div>
  </div>

  <!-- Calculator 3: Percentage change from X to Y -->
  <div class="card">
    <h2>Percentage change</h2>
    <div class="input-row">
      <span>From</span>
      <input type="number" id="calc3From" placeholder="old">
      <span>to</span>
      <input type="number" id="calc3To" placeholder="new">
      <button class="btn btn-calc" id="calc3Btn">Calculate</button>
    </div>
    <div class="result" id="result3">
      <div class="value" id="result3Value"></div>
      <div class="description" id="result3Desc"></div>
    </div>
  </div>

  <!-- Calculator 4: Monthly sum percentage change -->
  <div class="card">
    <h2>Monthly Sum Change</h2>
    <p style="color:#718096;font-size:0.9rem;margin-bottom:16px;">Add values for each month, then compare the sums</p>

    <div class="month-section">
      <h3>Previous Month</h3>
      <div class="month-entries" id="prevMonthEntries">
        <div class="month-entry">
          <input type="number" placeholder="Enter amount">
        </div>
      </div>
      <button class="btn-add-entry" id="addPrevBtn">+ Add value</button>
      <div class="month-sum">Sum: <span id="prevMonthSum">0</span></div>
    </div>

    <div class="month-section">
      <h3>New Month</h3>
      <div class="month-entries" id="newMonthEntries">
        <div class="month-entry">
          <input type="number" placeholder="Enter amount">
        </div>
      </div>
      <button class="btn-add-entry" id="addNewBtn">+ Add value</button>
      <div class="month-sum">Sum: <span id="newMonthSum">0</span></div>
    </div>

    <button class="btn btn-calc" id="calc4Btn" style="width:100%">Calculate Change</button>
    <div class="result" id="result4">
      <div class="value" id="result4Value"></div>
      <div class="description" id="result4Desc"></div>
    </div>
  </div>

  <button class="btn-clear" id="clearBtn">Clear All</button>
</div>

<script type="text/javascript">
(function () {
  function round(num) {
    return Math.round(num * 100) / 100;
  }

  function showResult(resultEl, valueEl, descEl, value, description) {
    valueEl.textContent = value;
    descEl.textContent = description;
    resultEl.style.display = "block";
  }

  // Calculator 1: What is X% of Y?
  document.getElementById("calc1Btn").addEventListener("click", function () {
    var percent = parseFloat(document.getElementById("calc1Percent").value);
    var total = parseFloat(document.getElementById("calc1Total").value);
    if (isNaN(percent) || isNaN(total)) return;
    var result = round((percent / 100) * total);
    showResult(
      document.getElementById("result1"),
      document.getElementById("result1Value"),
      document.getElementById("result1Desc"),
      result,
      percent + "% of " + total + " = " + result
    );
  });

  // Calculator 2: X is what % of Y?
  document.getElementById("calc2Btn").addEventListener("click", function () {
    var part = parseFloat(document.getElementById("calc2Part").value);
    var total = parseFloat(document.getElementById("calc2Total").value);
    if (isNaN(part) || isNaN(total) || total === 0) return;
    var result = round((part / total) * 100);
    showResult(
      document.getElementById("result2"),
      document.getElementById("result2Value"),
      document.getElementById("result2Desc"),
      result + "%",
      part + " is " + result + "% of " + total
    );
  });

  // Calculator 3: Percentage change from X to Y
  document.getElementById("calc3Btn").addEventListener("click", function () {
    var from = parseFloat(document.getElementById("calc3From").value);
    var to = parseFloat(document.getElementById("calc3To").value);
    if (isNaN(from) || isNaN(to) || from === 0) return;
    var change = round(((to - from) / Math.abs(from)) * 100);
    var direction = change >= 0 ? "increase" : "decrease";
    showResult(
      document.getElementById("result3"),
      document.getElementById("result3Value"),
      document.getElementById("result3Desc"),
      change + "%",
      Math.abs(change) + "% " + direction + " from " + from + " to " + to
    );
  });

  // Calculator 4: Monthly sum percentage change
  function addEntry(containerId) {
    var container = document.getElementById(containerId);
    var div = document.createElement("div");
    div.className = "month-entry";
    var input = document.createElement("input");
    input.type = "number";
    input.placeholder = "Enter amount";
    div.appendChild(input);
    container.appendChild(div);
  }

  function getSum(containerId) {
    var container = document.getElementById(containerId);
    var inputs = container.querySelectorAll("input");
    var sum = 0;
    for (var i = 0; i < inputs.length; i++) {
      var val = parseFloat(inputs[i].value);
      if (!isNaN(val)) {
        sum += val;
      }
    }
    return round(sum);
  }

  function updateSums() {
    document.getElementById("prevMonthSum").textContent = getSum("prevMonthEntries");
    document.getElementById("newMonthSum").textContent = getSum("newMonthEntries");
  }

  document.getElementById("addPrevBtn").addEventListener("click", function () {
    addEntry("prevMonthEntries");
  });

  document.getElementById("addNewBtn").addEventListener("click", function () {
    addEntry("newMonthEntries");
  });

  document.getElementById("prevMonthEntries").addEventListener("input", updateSums);
  document.getElementById("newMonthEntries").addEventListener("input", updateSums);

  document.getElementById("calc4Btn").addEventListener("click", function () {
    var prevSum = getSum("prevMonthEntries");
    var newSum = getSum("newMonthEntries");
    if (prevSum === 0) return;
    var change = round(((newSum - prevSum) / Math.abs(prevSum)) * 100);
    var direction = change >= 0 ? "increase" : "decrease";
    var valueEl = document.getElementById("result4Value");
    valueEl.textContent = change + "%";
    valueEl.className = "value " + (change >= 0 ? "result-positive" : "result-negative");
    showResult(
      document.getElementById("result4"),
      valueEl,
      document.getElementById("result4Desc"),
      change + "%",
      "Sum changed from " + prevSum + " to " + newSum + " (" + Math.abs(change) + "% " + direction + ")"
    );
  });

  // Clear all
  document.getElementById("clearBtn").addEventListener("click", function () {
    var inputs = document.querySelectorAll("input");
    for (var i = 0; i < inputs.length; i++) {
      inputs[i].value = "";
    }
    var results = document.querySelectorAll(".result");
    for (var j = 0; j < results.length; j++) {
      results[j].style.display = "none";
    }
    // Reset monthly entries to single empty input each
    var prevEntries = document.getElementById("prevMonthEntries");
    var newEntries = document.getElementById("newMonthEntries");
    prevEntries.innerHTML = '<div class="month-entry"><input type="number" placeholder="Enter amount"></div>';
    newEntries.innerHTML = '<div class="month-entry"><input type="number" placeholder="Enter amount"></div>';
    document.getElementById("prevMonthSum").textContent = "0";
    document.getElementById("newMonthSum").textContent = "0";
  });
})();
</script>
</body>
</html>
